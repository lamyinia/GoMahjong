# 番数和符数完全解析：日本麻将的计分核心

## 一、基本比喻：理解番和符

### 比喻1：餐厅账单

- **符** = 菜品的基础价格（食材成本）

- **番** = 加成因素（米其林星级、厨师名气、环境等）

- **最终价格** = 基础价格 × 加成倍数

### 比喻2：租房

- **符** = 房屋面积（平方米）

- **番** = 地段、装修、楼层、朝向等附加价值

- **租金** = 面积 × 每平米单价（单价由附加价值决定）

## 二、符数：手牌的"基础价值"

### 1. 符是什么？

符是**手牌的基本构造价值**，由以下4部分组成：

#### 组成部分表格

| 部分           | 计算规则        | 例子                          |
| -------------- | --------------- | ----------------------------- |
| **底符**       | 所有和牌都有    | 20符                          |
| **面子符**     | 刻子/杠子的价值 | 中张明刻2符，幺九暗刻8符等    |
| **雀头符**     | 特定对子加成    | 役牌对子（自风/场风/三元）2符 |
| **听牌符**     | 特殊听牌方式    | 边张、坎张、单骑听牌2符       |
| **门清荣和符** | 门清状态荣和    | 10符                          |
| **自摸符**     | 自摸和牌        | 2符                           |

### 2. 符的计算步骤（超简单版）

**基础公式**：`最终符 = 底符(20) + 面子符 + 雀头符 + 听牌符 + 门清荣和符 + 自摸符`

**计算示例**：

```
手牌：门清状态，暗刻1万(8符)，幺九明刻发财(4符)，中张顺子×3(0符)
雀头：场风东(2符)
听牌：两面听(0符)
和牌：自摸(2符)

计算：
20(底) + 8(暗刻1万) + 4(明刻发财) + 2(雀头) + 0(听牌) + 2(自摸) = 36符
向上取整到10的倍数 → 40符
```

### 3. 特殊情况的符数

- **平和**：固定20符（自摸）或30符（荣和）

- **七对子**：固定25符

- **国士无双**：不计符，直接役满

### 4. 符数速查表

```
常见符数：
20符 - 平和自摸
25符 - 七对子
30符 - 平和荣和
40符 - 最常见的基础符数
50符 - 有幺九刻子
60符+ - 有暗刻/杠子
```

## 三、番数：手牌的"加成倍数"

### 1. 番是什么？

番是**手牌的"特殊牌型"价值**，每个役对应一定番数：

### 2. 番数等级划分

| 番数    | 等级   | 基本点     | 备注         |
| ------- | ------ | ---------- | ------------ |
| 1番     | 基础   | 符×8       | 如立直、一发 |
| 2番     | 小牌   | 符×16      | 如三色同顺   |
| 3番     | 中牌   | 符×32      | 如混一色     |
| 4番     | 大牌   | 满贯(8000) | 符数不再重要 |
| 5番     | 满贯   | 8000       | 固定点数     |
| 6-7番   | 跳满   | 12000      |              |
| 8-10番  | 倍满   | 16000      |              |
| 11-12番 | 三倍满 | 24000      |              |
| 13番+   | 役满   | 32000+     | 如国士无双   |

### 3. 番数计算方法

- **累加制**：所有役的番数相加

- **门清加成**：部分役在门清时有额外番数

- **复合计算**：多个役可同时成立

**示例**：

```
立直(1番) + 一发(1番) + 门前清自摸(1番) + 平和(1番) = 4番
混一色(3番) + 对对和(2番) = 5番（满贯）
```

## 四、核心公式：如何从番符到点数

### 1. 基本点公式

```
基本点 = 符 × 2^(番数 + 2)
```

**公式解释**：

- 符：手牌基础价值

- 2^(番数+2)：番数的倍数加成

- 番数每增加1，点数翻倍

**计算示例**：

- 1番30符：30 × 2^(1+2) = 30 × 8 = 240

- 2番30符：30 × 2^(2+2) = 30 × 16 = 480

- 3番30符：30 × 2^(3+2) = 30 × 32 = 960

- 4番30符：30 × 2^(4+2) = 30 × 64 = 1920

### 2. 满贯以上：不再使用公式

当基本点达到一定阈值时，进入固定点数：

| 条件           | 等级   | 基本点 | 荣和得分 |
| -------------- | ------ | ------ | -------- |
| 5番 或 4番40符 | 满贯   | 8000   | 8000     |
| 6-7番          | 跳满   | 12000  | 12000    |
| 8-10番         | 倍满   | 16000  | 16000    |
| 11-12番        | 三倍满 | 24000  | 24000    |
| 13番+          | 役满   | 32000  | 32000    |

**关键理解**：4番30符(1920)还按公式，4番40符(2560)就满贯了

## 五、实际得分计算（这才是重点！）

### 1. 最终得分公式

```
最终得分 = 基本点 × 倍数系数
```

### 2. 倍数系数表

| 和牌方式 | 支付者   | 倍数系数 | 举例(基本点1000) |
| -------- | -------- | -------- | ---------------- |
| 闲家荣和 | 放铳者   | ×4       | 1000×4 = 4000    |
| 庄家荣和 | 放铳者   | ×6       | 1000×6 = 6000    |
| 闲家自摸 | 庄家     | ×2       | 1000×2 = 2000    |
| 闲家自摸 | 其他闲家 | ×1       | 1000×1 = 1000    |
| 庄家自摸 | 所有闲家 | ×2       | 1000×2 = 2000    |

### 3. 完整计算流程

```
1. 确定番数（数役）
2. 计算符数
3. 如果番数≥5，直接查满贯表
4. 否则：基本点 = 符 × 2^(番+2)
5. 如果基本点≥2000，按满贯处理
6. 根据和牌方式×倍数系数
7. 向上取整到100的倍数
```

## 六、实战示例（跟着算一遍就懂了）

### 示例1：常见的1番30符

```
手牌：立直(1番)，30符，荣和
计算：
基本点 = 30 × 2^(1+2) = 30 × 8 = 240
闲家荣和得分 = 240 × 4 = 960 → 取整1000点
庄家荣和得分 = 240 × 6 = 1440 → 取整1500点
```

### 示例2：典型的3番30符

```
手牌：立直+一发+平和(3番)，30符，自摸
计算：
基本点 = 30 × 2^(3+2) = 30 × 32 = 960
闲家自摸：
- 庄家付：960×2=1920→2000
- 闲家付：960×1=960→1000
总计：2000+1000+1000=4000点
```

### 示例3：满贯例子

```
手牌：混一色(3番) + 对对和(2番) = 5番
直接满贯8000点
荣和：放铳者支付8000
自摸：每人支付2000(庄家4000)
```

## 七、快速查表法（实际游戏常用）

### 闲家荣和得分速查表

| 番\符 | 20符 | 25符 | 30符 | 40符 | 50符 | 60符 |
| ----- | ---- | ---- | ---- | ---- | ---- | ---- |
| 1番   | 700  | -    | 1000 | 1300 | 1600 | 2000 |
| 2番   | 1300 | 1600 | 2000 | 2600 | 3200 | 3900 |
| 3番   | 2600 | 3200 | 3900 | 5200 | 6400 | 7700 |
| 4番   | 5200 | 6400 | 7700 | 满贯 | 满贯 | 满贯 |

### 关键记忆点

1. **3番30符=3900**（最常考！）

2. **4番30符=7700**（刚好不到满贯）

3. **4番40符=满贯8000**

4. **5番=满贯8000**

## 八、雀魂的简化计算

在实际游玩雀魂时，您不需要手动计算：

### 雀魂的提示系统

1. **和牌时自动计算**：显示番、符、基本点

2. **详细 breakdown**：点击可查看每个役的详情

3. **点数预测**：摸牌后可预览可能的和牌点数

### 快速判断技巧

```
听牌时快速估算：
- 小牌（1-2番）：1000-2000点
- 中牌（3番）：3900-5200点  
- 大牌（4番+）：7700点以上
- 看到役满役：直接32000+
```

## 九、特殊规则理解

### 1. 平和的特例

- 符数固定：自摸20符，荣和30符

- 必须门清

- 4番平和常见，但不是满贯

### 2. 七对子

- 固定25符

- 算2番（门清状态）

- 点数较高：1600点（闲家荣和）

### 3. 宝牌

- 不算役，但加番

- 1张宝牌=1番

- 可与其他役叠加

## 十、开发实现建议

### 数据结构设计

```
type ScoreCalculator struct {
    Han  int  // 番数
    Fu   int  // 符数
    IsDealer bool
    IsTsumo bool
}

func (s *ScoreCalculator) Calculate() ScoreResult {
    // 1. 满贯以上判断
    if s.isMangan() {
        return s.getManganScore()
    }
    
    // 2. 计算基本点
    basePoints := s.calculateBasePoints()
    
    // 3. 计算最终得分
    return s.calculateFinalScore(basePoints)
}
```

### 计算逻辑

```
// 满贯判断逻辑
func (s *ScoreCalculator) isMangan() bool {
    // 5番以上
    if s.Han >= 5 {
        return true
    }
    
    // 4番且符数高
    if s.Han == 4 && s.Fu >= 40 {
        return true
    }
    
    // 3番且符数很高
    if s.Han == 3 && s.Fu >= 70 {
        return true
    }
    
    return false
}
```

## 十一、常见误区澄清

### 误区1：番和符是相乘的

❌ 错误：点数 = 番 × 符

✅ 正确：基本点 = 符 × 2^(番+2)

### 误区2：番数越多越好

- 1番→2番：点数翻倍

- 4番→5番：从7700到8000，提升不大

- 关键是从3番到4番，点数大幅提升

### 误区3：符数不重要

- 低番时符数影响大：1番20符→30符，点数+50%

- 高番时符数不重要：3番以上主要看番数

## 十二、练习：测试理解

试着计算：

1. 2番40符，闲家荣和 = ?

2. 3番60符，庄家自摸 = ?

3. 立直+一发+自摸+平和+里宝牌1张 = ?

**答案**：

1. 2600点

2. 庄家自摸：每人付2000点，共6000点

3. 4番20符 = 5200点（闲家荣和）

## 总结

**核心理解链**：

```
手牌构成 → 计算符数（基础价值）
↓
手牌的特殊组合 → 计算番数（加成倍数）
↓
基本点 = 符 × 2^(番+2)
↓
最终点数 = 基本点 × 庄闲系数
```

**简化记忆**：

- **符** = 手牌"有多硬"（刻子、杠子越多符越高）

- **番** = 手牌"有多漂亮"（特殊牌型越多番越高）

- **4番30符=7700**，**5番=满贯8000**是关键分水岭

在实际玩雀魂时，您只需：

1. 做牌时想"如何增加番数"

2. 和牌时看系统计算

3. 记住几个关键点数（3900、5200、7700、8000）

这样就能快速判断一手牌的价值，制定合适的做牌策略了！