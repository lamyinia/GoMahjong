# 立直麻将役种完整列表

本文档列出立直麻将中所有役种的详细信息。

## 一、役种分类

### 按番数分类

- **1番役**：基本役种
- **2番役**：中等役种
- **3番役**：高级役种
- **6番役**：满贯级役种
- **役满**：特殊役种（13番）

### 按门清要求分类

- **门前役**：必须门清
- **食下役**：鸣牌后-1番
- **食后役**：鸣牌后仍成立

## 二、1番役种

### 2.1 立直（リーチ）

- **番数**：1番
- **门清要求**：是（必须门清）
- **条件**：
  - 门清听牌
  - 支付1000点立直棒
  - 点数≥1000
  - 非振听
  - 非最后巡
- **注意**：立直后可能触发"一发"

### 2.2 一发（イッパツ）

- **番数**：1番
- **门清要求**：是（必须立直）
- **条件**：
  - 立直后1巡内和牌
- **失效条件**：
  - 立直后暗杠
  - 其他玩家鸣牌
  - 超过1巡

### 2.3 门前清自摸和（メンゼンツモ）

- **番数**：1番
- **门清要求**：是（必须门清）
- **条件**：
  - 门清状态下自摸和牌
- **注意**：必须门清，鸣牌后不成立

### 2.4 平和（ピンフ）

- **番数**：1番
- **门清要求**：是（必须门清）
- **条件**：
  - 4个顺子
  - 非役牌雀头
  - 两面听牌
- **符数**：自摸20符，荣和30符

### 2.5 断幺九（タンヤオ）

- **番数**：1番
- **门清要求**：是（标准规则，无食断）
- **条件**：
  - 手牌全部由数牌2-8组成
  - 无幺九牌（1、9、字牌）
- **注意**：标准规则必须门清，部分规则允许食断

### 2.6 役牌（ヤクハイ）

- **番数**：1番（每个刻子）
- **门清要求**：否（鸣牌后仍成立）
- **条件**：
  - 场风、自风、三元牌的刻子/杠子
- **叠加**：每个刻子1番，可叠加

#### 场风牌

- **定义**：当前场风（东场=东，南场=南）
- **示例**：东场时，东的刻子=1番

#### 自风牌

- **定义**：玩家自己的风位
- **示例**：坐东风位时，东的刻子=1番

#### 三元牌

- **定义**：白、发、中
- **示例**：白的刻子=1番

### 2.7 自风牌

- **番数**：1番
- **门清要求**：否
- **条件**：自风牌的刻子/杠子

### 2.8 场风牌

- **番数**：1番
- **门清要求**：否
- **条件**：场风牌的刻子/杠子

### 2.9 三元牌

- **番数**：1番（每个）
- **门清要求**：否
- **条件**：白、发、中的刻子/杠子

## 三、2番役种

### 3.1 三色同顺（サンショクドウジュン）

- **番数**：2番（门清），1番（鸣牌）
- **门清要求**：否（鸣牌后-1番）
- **条件**：
  - 相同顺子在三种花色中都出现
- **示例**：123万、123筒、123索

### 3.2 三色同刻（サンショクドウコウ）

- **番数**：2番
- **门清要求**：否
- **条件**：
  - 相同刻子在三种花色中都出现
- **示例**：3万刻、3筒刻、3索刻

### 3.3 三暗刻（サンアンコウ）

- **番数**：2番
- **门清要求**：否（但暗刻必须门清）
- **条件**：
  - 手牌中有3个暗刻
- **注意**：暗刻必须是门清状态

### 3.4 三杠子（サンカンツ）

- **番数**：2番
- **门清要求**：否
- **条件**：
  - 手牌中有3个杠子
- **注意**：可以是明杠或暗杠

### 3.5 对对和（トイトイ）

- **番数**：2番
- **门清要求**：否
- **条件**：
  - 4个刻子（杠子）+ 1个对子
- **注意**：不能是七对子

### 3.6 七对子（チートイ）

- **番数**：2番
- **门清要求**：是（必须门清）
- **条件**：
  - 7个不同的对子
- **符数**：固定25符
- **注意**：不能是对对和

### 3.7 混全带幺九（チャンタ）

- **番数**：2番（门清），1番（鸣牌）
- **门清要求**：否（鸣牌后-1番）
- **条件**：
  - 所有面子都包含幺九牌
- **注意**：可以包含字牌

### 3.8 一气通贯（イッツー）

- **番数**：2番（门清），1番（鸣牌）
- **门清要求**：否（鸣牌后-1番）
- **条件**：
  - 同种花色有123、456、789三个顺子
- **示例**：123万、456万、789万

### 3.9 一杯口（イーペーコー）

- **番数**：1番（门清），不计（鸣牌）
- **门清要求**：是（必须门清）
- **条件**：
  - 同种花色、同种顺子有两组
- **示例**：123万、123万

## 四、3番役种

### 4.1 混一色（ホンイツ）

- **番数**：3番（门清），2番（鸣牌）
- **门清要求**：否（鸣牌后-1番）
- **条件**：
  - 一种花色 + 字牌
- **示例**：全部万子+字牌

### 4.2 纯全带幺九（ジュンチャンタイヤオチュウ）

- **番数**：3番（门清），2番（鸣牌）
- **门清要求**：否（鸣牌后-1番）
- **条件**：
  - 所有面子都包含数牌幺九（1、9）
- **注意**：不能包含字牌

### 4.3 二杯口（リャンペイコウ）

- **番数**：3番
- **门清要求**：是（必须门清）
- **条件**：
  - 手牌中有两个不同的一杯口
- **注意**：必须门清，不能是清一色

## 五、6番役种

### 5.1 清一色（チンイツ）

- **番数**：6番（门清），5番（鸣牌）
- **门清要求**：否（鸣牌后-1番）
- **条件**：
  - 同一种花色（无字牌）
- **示例**：全部万子

## 六、役满役种

### 6.1 四暗刻（スーアンコウ）

- **番数**：役满（13番）
- **门清要求**：是（必须门清）
- **条件**：
  - 手牌中有四个暗刻
- **特殊**：单骑听牌为双倍役满（26番）

### 6.2 大三元（ダイサンゲン）

- **番数**：役满（13番）
- **门清要求**：否
- **条件**：
  - 白、发、中三个刻子/杠子

### 6.3 小四喜（ショウスーシー）

- **番数**：役满（13番）
- **门清要求**：否
- **条件**：
  - 风牌中三个刻子/杠子 + 一个对子

### 6.4 大四喜（ダイスーシー）

- **番数**：双倍役满（26番）
- **门清要求**：否
- **条件**：
  - 东、南、西、北四个刻子/杠子

### 6.5 国士无双（コクシムソウ）

- **番数**：役满（13番）
- **门清要求**：是（必须门清）
- **条件**：
  - 13种幺九牌各1张 + 其中任意1张
- **特殊**：十三面听牌为双倍役满（26番）
- **符数**：不计符

### 6.6 九莲宝灯（チュウレンポウトウ）

- **番数**：役满（13番）
- **门清要求**：是（必须门清）
- **条件**：
  - 同一种花色的1112345678999 + 任意一张同花色
- **特殊**：纯正九莲宝灯（听所有9种牌）为双倍役满（26番）

### 6.7 四杠子（スーカンツ）

- **番数**：役满（13番）
- **门清要求**：否
- **条件**：
  - 手牌中有四个杠子

### 6.8 累计役满（カゾエヤクマン）

- **番数**：役满（13番）
- **门清要求**：否
- **条件**：
  - 手牌的番数累计达到或超过13番
- **注意**：宝牌不算在累计中

## 七、役种叠加规则

### 7.1 可叠加的役种

- **大部分役种可以叠加**
- **示例**：立直 + 一发 + 门前清自摸和 + 平和 = 4番

### 7.2 不可叠加的役种

- **七对子 vs 对对和**：互斥
- **二杯口 vs 一杯口**：二杯口包含一杯口
- **清一色 vs 混一色**：清一色包含混一色

### 7.3 复合役种

- **立直一发自摸**：立直 + 一发 + 门前清自摸和 = 3番
- **三色同顺 + 一气通贯**：可以同时成立
- **混一色 + 对对和**：可以同时成立

## 八、役种判定优先级

### 8.1 判定顺序

1. **特殊牌型**：国士无双、九莲宝灯、七对子
2. **役满役种**：四暗刻、大三元等
3. **普通役种**：按番数从高到低

### 8.2 互斥规则

- **七对子**：不能是对对和
- **二杯口**：不能是清一色
- **清一色**：包含混一色

## 九、开发实现要点

### 9.1 役种判定顺序

```go
func CheckYaku(hand []Tile, winTile Tile, isTsumo bool, isRiichi bool) []Yaku {
    yakus := []Yaku{}
    
    // 1. 检查特殊牌型
    if CheckKokushi(hand) {
        yakus = append(yakus, YakuKokushi)
        return yakus
    }
    
    if CheckChiitoi(hand) {
        yakus = append(yakus, YakuChiitoi)
        return yakus
    }
    
    // 2. 检查役满
    if CheckSuuankou(hand) {
        yakus = append(yakus, YakuSuuankou)
        return yakus
    }
    
    // 3. 检查普通役种
    if isRiichi {
        yakus = append(yakus, YakuRiichi)
    }
    
    if isTsumo && IsMenzen(hand) {
        yakus = append(yakus, YakuTsumo)
    }
    
    // ... 其他役种检查
    
    return yakus
}
```

### 9.2 役种叠加检查

```go
func ValidateYakus(yakus []Yaku) []Yaku {
    validYakus := []Yaku{}
    
    // 检查互斥
    hasChiitoi := false
    hasToitoi := false
    
    for _, yaku := range yakus {
        if yaku == YakuChiitoi {
            hasChiitoi = true
        }
        if yaku == YakuToitoi {
            hasToitoi = true
        }
    }
    
    // 七对子和对对和互斥
    if hasChiitoi && hasToitoi {
        // 保留七对子
        for _, yaku := range yakus {
            if yaku != YakuToitoi {
                validYakus = append(validYakus, yaku)
            }
        }
        return validYakus
    }
    
    return yakus
}
```

## 十、役种速查表

| 役种 | 番数 | 门清 | 鸣牌后 |
|------|------|------|--------|
| 立直 | 1 | 是 | - |
| 一发 | 1 | 是 | - |
| 门前清自摸和 | 1 | 是 | - |
| 平和 | 1 | 是 | - |
| 断幺九 | 1 | 是 | - |
| 役牌 | 1 | 否 | 1 |
| 三色同顺 | 2 | 否 | 1 |
| 三色同刻 | 2 | 否 | 2 |
| 三暗刻 | 2 | 否 | 2 |
| 三杠子 | 2 | 否 | 2 |
| 对对和 | 2 | 否 | 2 |
| 七对子 | 2 | 是 | - |
| 混一色 | 3 | 否 | 2 |
| 纯全带幺九 | 3 | 否 | 2 |
| 二杯口 | 3 | 是 | - |
| 清一色 | 6 | 否 | 5 |
| 四暗刻 | 13 | 是 | - |
| 大三元 | 13 | 否 | 13 |
| 国士无双 | 13 | 是 | - |
| 九莲宝灯 | 13 | 是 | - |

## 总结

立直麻将的役种系统：

1. **种类丰富**：从1番到役满，多种役种
2. **门清要求**：部分役种必须门清
3. **可以叠加**：多个役种可以同时成立
4. **互斥规则**：部分役种互斥

在开发实现时，需要准确识别所有役种，正确处理叠加和互斥规则，确保游戏规则的正确性。

